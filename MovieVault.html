<!--
  Application: MovieVault
  Author: Bocaletto Luca
  License: GPL v3
  Repository: https://github.com/bocaletto-luca/modulari-webapp
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MovieVault — Manage Your Film Collection</title>
<meta name="description" content="MovieVault è una webapp monofile, offline e responsive per catalogare e gestire la propria collezione di film. Licenza GPL v3.">
<meta name="robots" content="index,follow">
<meta property="og:title" content="MovieVault — Manage Your Film Collection">
<meta property="og:description" content="Organizza i tuoi film preferiti e quelli da vedere in un’unica pagina HTML.">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<style>
:root {
  --bg: #f9f9fb;
  --panel: #fff;
  --text: #2c2c2c;
  --muted: #666;
  --brand: #ff9800;
  --brand-dark: #e68a00;
  --radius: 10px;
  --shadow: 0 4px 12px rgba(0,0,0,.08);
}
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #121212;
    --panel: #1e1e1e;
    --text: #eaeaea;
    --muted: #aaa;
    --brand: #ffb84d;
    --brand-dark: #ff9800;
  }
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font: clamp(15px,1.2vw,16px)/1.5 system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
header {
  padding: 1rem;
  background: var(--panel);
  text-align: center;
  box-shadow: var(--shadow);
}
header h1 { margin: 0; font-size: clamp(1.5rem,4vw,2rem); }
main {
  flex: 1;
  max-width: 900px;
  margin: 1rem auto;
  padding: 0 1rem;
}
form {
  display: grid;
  gap: 0.5rem;
  background: var(--panel);
  padding: 1rem;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin-bottom: 1rem;
}
form input, form select, form button {
  font: inherit;
  padding: 0.5rem;
  border: 1px solid #ccc;
  border-radius: var(--radius);
}
form button {
  background: var(--brand);
  border: none;
  color: white;
  cursor: pointer;
}
form button:hover {
  background: var(--brand-dark);
}
.entry-list {
  display: grid;
  gap: 1rem;
}
.entry {
  background: var(--panel);
  padding: 1rem;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.entry h3 { margin-top: 0; }
.entry p { margin: .3rem 0; }
footer {
  padding: 1rem;
  text-align: center;
  font-size: .9rem;
  color: var(--muted);
  background: var(--panel);
}
footer a { color: var(--brand); text-decoration: none; }
footer a:hover { text-decoration: underline; }
</style>
</head>
<body>
<header>
  <h1>MovieVault</h1>
  <p>Keep track of your favorite movies</p>
</header>
<main>
  <form id="movieForm">
    <input type="text" id="title" placeholder="Movie title" required>
    <input type="text" id="director" placeholder="Director">
    <select id="status" required>
      <option value="">Select status</option>
      <option>Watched</option>
      <option>To Watch</option>
      <option>Favorite</option>
    </select>
    <input type="number" id="rating" placeholder="Rating (1-5)">
    <button type="submit">Add Movie</button>
  </form>
  <div class="entry-list" id="movieList"></div>
</main>
<footer>
  © <span id="year"></span> Bocaletto Luca — 
  <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener">GPL v3</a> — 
  <a href="https://github.com/bocaletto-luca" target="_blank" rel="noopener">GitHub</a> — MovieVault
</footer>
<script>
document.getElementById('year').textContent = new Date().getFullYear();
const form = document.getElementById('movieForm');
const list = document.getElementById('movieList');
let movies = JSON.parse(localStorage.getItem('movievault_movies') || '[]');

function renderMovies(){
  list.innerHTML = '';
  movies.forEach((m, i) => {
    const div = document.createElement('div');
    div.className = 'entry';
    div.innerHTML = `
      <h3>${m.title}${m.director ? ` <small>by ${m.director}</small>` : ''}</h3>
      <p><strong>Status:</strong> ${m.status}</p>
      ${m.rating ? `<p><strong>Rating:</strong> ${m.rating}/5</p>` : ''}
      <button data-index="${i}">Delete</button>
    `;
    div.querySelector('button').onclick = () => {
      movies.splice(i,1);
      save();
    };
    list.appendChild(div);
  });
}

function save(){
  localStorage.setItem('movievault_movies', JSON.stringify(movies));
  renderMovies();
}

form.onsubmit = e => {
  e.preventDefault();
  movies.push({
    title: form.title.value.trim(),
    director: form.director.value.trim(),
    status: form.status.value,
    rating: form.rating.value.trim()
  });
  form.reset();
  save();
};

renderMovies();
</script>
</body>
</html>
